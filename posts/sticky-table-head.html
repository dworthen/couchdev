<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/750db2f755193dfeff7f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/750db2f755193dfeff7f.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-6fd6122508a3ecee2da5.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/3ef630e34cd10ba68f9d468ac363ff81c534e1e9.386717e5d53cbb6c2786.js" as="script"/><link rel="preload" href="/_next/static/chunks/71247caf95475e3ea7f9a0f8a30beb258b23d005.6e2460ecc34e06341fc5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-38d928fb62d663b3f9dd.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bslug%5D-8c30f50305d85407af2b.js" as="script"/></head><body><div id="__next"><div class="sc-1ho0hv8-0 hslvLF"><div><main><div><p>Scrolling down a long list of tabular data without fixed column headings is annoying.</p><h2>TLDR</h2><p><a href="#demo">Skip to the end to view source code and working demo</a></p><hr/><p>Most solutions solutions to the question &quot;how to create <a href="https://css-tricks.com/scroll-fix-content/">sticky table headers</a>&quot; typically take one of two approaches.</p><ol><li>Add a fixed position to the thead or first row of the table. This approach is simple and suffices if the table is the first or only element on the page. What I am after is a scroll-then-fixed solution. Here is an <a href="https://css-tricks.com/examples/PersistantHeaders/">example</a> of what I am after.</li><li>Use JavaScript to duplicate the first table row and place it in a new table fixed to the top of the page and reveal or hide the duplicated row depending on the viewer&#x27;s scroll position. This approach feels messy and and its worth mentioning that any event listeners set on the original elements will not work on the duplicated row (unless using <a href="https://davidwalsh.name/event-delegate">event delegation</a>).</li></ol><p>The approach I am after is somewhere in the middle. A scroll-then-fixed solution using the original column headings to maintain event listeners.</p><h4>HTML</h4><pre><code class="language-HTML">&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Col 1&lt;/th&gt;
      &lt;th&gt;Col 2&lt;/th&gt;
      &lt;th&gt;Col 3&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;One&lt;/td&gt;
      &lt;td&gt;Two&lt;/td&gt;
      &lt;td&gt;Three&lt;/td&gt;
    &lt;/tr&gt;
    ...
  &lt;/tbody&gt;
&lt;/table&gt;
</code></pre><p>The HTML is straightforward. Moving on...</p><h4>CSS</h4><pre><code class="language-CSS">.fixed {
  position: fixed;
  top: 0;
}
</code></pre><p>Not much to the CSS either. The <code>.fixed</code> class will be added to the thead element when a viewer scrolls to the table.</p><h4>JS</h4><pre><code class="language-JavaScript">/**
* First Calculate
*   - Where the thead lies on the page
*   - Where the table lies on the page
*   - Table height
**/
var table = document.querySelector(&#x27;table&#x27;),
    thead = table.querySelector(&#x27;thead&#x27;),
    theadOffset = thead.getBoundingClientRect().top,
    tableHeight = +getComputedStyle(table)
                   .getPropertyValue(&#x27;height&#x27;)
                   .split(&#x27;px&#x27;)[0],
    tableOffset = table.getBoundingClientRect().top,
    tableCells = document.querySelectorAll(&#x27;th, td&#x27;);

// Set the widths on all table cells so they dont resize when fixing
// the first row
for (var i = 0, l = tableCells.length; i &lt; l; i++) {
  var cell = tableCells[i];
  cell.width = getComputedStyle(el).getPropertyValue(&#x27;width&#x27;);
}

function fixTableHeader(e) {
  // If viewer has scrolled past the first row
  // then fix/stick it to the top of the page
  if( window.pageYOffset &gt; theadOffset ) {
    thead.classList.add(&#x27;fixed&#x27;);
  }

  // If viewer has scrolled back above or past the table
  // then unfreeze the first row.
  if ( window.pageYOffset &lt; theadOffset ||
       window.pageYOffset &gt; (tableOffset + tableHeight)) {
      thead.classList.remove(&#x27;fixed&#x27;);
  }

}

// Listen...
window.addEventListener(&#x27;scroll&#x27;, fixTableHeader, false);
</code></pre><h2>DEMO</h2><p data-height="265" data-theme-id="dark" data-slug-hash="XKKMBo" data-default-tab="result" data-user="dworthen" data-embed-version="2" data-pen-title="Fixed Table Head" data-preview="true" class="codepen">See the Pen <a href="https://codepen.io/dworthen/pen/XKKMBo/">Fixed Table Head</a> by Derek Worthen (<a href="https://codepen.io/dworthen">@dworthen</a>) on <a href="https://codepen.io">CodePen</a>.</p><script async="" src="https://production-assets.codepen.io/assets/embed/ei.js"></script></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Scrolling down a long list of tabular data without fixed column headings is annoying.\"), mdx(\"h2\", null, \"TLDR\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#demo\"\n  }, \"Skip to the end to view source code and working demo\")), mdx(\"hr\", null), mdx(\"p\", null, \"Most solutions solutions to the question \\\"how to create \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://css-tricks.com/scroll-fix-content/\"\n  }, \"sticky table headers\"), \"\\\" typically take one of two approaches.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Add a fixed position to the thead or first row of the table. This approach is simple and suffices if the table is the first or only element on the page. What I am after is a scroll-then-fixed solution. Here is an \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://css-tricks.com/examples/PersistantHeaders/\"\n  }, \"example\"), \" of what I am after.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Use JavaScript to duplicate the first table row and place it in a new table fixed to the top of the page and reveal or hide the duplicated row depending on the viewer's scroll position. This approach feels messy and and its worth mentioning that any event listeners set on the original elements will not work on the duplicated row (unless using \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://davidwalsh.name/event-delegate\"\n  }, \"event delegation\"), \").\")), mdx(\"p\", null, \"The approach I am after is somewhere in the middle. A scroll-then-fixed solution using the original column headings to maintain event listeners.\"), mdx(\"h4\", null, \"HTML\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-HTML\"\n  }, \"\u003ctable\u003e\\n  \u003cthead\u003e\\n    \u003ctr\u003e\\n      \u003cth\u003eCol 1\u003c/th\u003e\\n      \u003cth\u003eCol 2\u003c/th\u003e\\n      \u003cth\u003eCol 3\u003c/th\u003e\\n    \u003c/tr\u003e\\n  \u003c/thead\u003e\\n  \u003ctbody\u003e\\n    \u003ctr\u003e\\n      \u003ctd\u003eOne\u003c/td\u003e\\n      \u003ctd\u003eTwo\u003c/td\u003e\\n      \u003ctd\u003eThree\u003c/td\u003e\\n    \u003c/tr\u003e\\n    ...\\n  \u003c/tbody\u003e\\n\u003c/table\u003e\\n\")), mdx(\"p\", null, \"The HTML is straightforward. Moving on...\"), mdx(\"h4\", null, \"CSS\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-CSS\"\n  }, \".fixed {\\n  position: fixed;\\n  top: 0;\\n}\\n\")), mdx(\"p\", null, \"Not much to the CSS either. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".fixed\"), \" class will be added to the thead element when a viewer scrolls to the table.\"), mdx(\"h4\", null, \"JS\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-JavaScript\"\n  }, \"/**\\n* First Calculate\\n*   - Where the thead lies on the page\\n*   - Where the table lies on the page\\n*   - Table height\\n**/\\nvar table = document.querySelector('table'),\\n    thead = table.querySelector('thead'),\\n    theadOffset = thead.getBoundingClientRect().top,\\n    tableHeight = +getComputedStyle(table)\\n                   .getPropertyValue('height')\\n                   .split('px')[0],\\n    tableOffset = table.getBoundingClientRect().top,\\n    tableCells = document.querySelectorAll('th, td');\\n\\n// Set the widths on all table cells so they dont resize when fixing\\n// the first row\\nfor (var i = 0, l = tableCells.length; i \u003c l; i++) {\\n  var cell = tableCells[i];\\n  cell.width = getComputedStyle(el).getPropertyValue('width');\\n}\\n\\nfunction fixTableHeader(e) {\\n  // If viewer has scrolled past the first row\\n  // then fix/stick it to the top of the page\\n  if( window.pageYOffset \u003e theadOffset ) {\\n    thead.classList.add('fixed');\\n  }\\n\\n  // If viewer has scrolled back above or past the table\\n  // then unfreeze the first row.\\n  if ( window.pageYOffset \u003c theadOffset ||\\n       window.pageYOffset \u003e (tableOffset + tableHeight)) {\\n      thead.classList.remove('fixed');\\n  }\\n\\n}\\n\\n// Listen...\\nwindow.addEventListener('scroll', fixTableHeader, false);\\n\")), mdx(\"h2\", null, \"DEMO\"), mdx(\"p\", {\n    \"data-height\": \"265\",\n    \"data-theme-id\": \"dark\",\n    \"data-slug-hash\": \"XKKMBo\",\n    \"data-default-tab\": \"result\",\n    \"data-user\": \"dworthen\",\n    \"data-embed-version\": \"2\",\n    \"data-pen-title\": \"Fixed Table Head\",\n    \"data-preview\": \"true\",\n    \"class\": \"codepen\"\n  }, \"See the Pen \", mdx(\"a\", {\n    href: \"https://codepen.io/dworthen/pen/XKKMBo/\"\n  }, \"Fixed Table Head\"), \" by Derek Worthen (\", mdx(\"a\", {\n    href: \"https://codepen.io/dworthen\"\n  }, \"@dworthen\"), \") on \", mdx(\"a\", {\n    href: \"https://codepen.io\"\n  }, \"CodePen\"), \".\"), mdx(\"script\", {\n    async: true,\n    src: \"https://production-assets.codepen.io/assets/embed/ei.js\"\n  }));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eScrolling down a long list of tabular data without fixed column headings is annoying.\u003c/p\u003e\u003ch2\u003eTLDR\u003c/h2\u003e\u003cp\u003e\u003ca href=\"#demo\"\u003eSkip to the end to view source code and working demo\u003c/a\u003e\u003c/p\u003e\u003chr/\u003e\u003cp\u003eMost solutions solutions to the question \u0026quot;how to create \u003ca href=\"https://css-tricks.com/scroll-fix-content/\"\u003esticky table headers\u003c/a\u003e\u0026quot; typically take one of two approaches.\u003c/p\u003e\u003col\u003e\u003cli\u003eAdd a fixed position to the thead or first row of the table. This approach is simple and suffices if the table is the first or only element on the page. What I am after is a scroll-then-fixed solution. Here is an \u003ca href=\"https://css-tricks.com/examples/PersistantHeaders/\"\u003eexample\u003c/a\u003e of what I am after.\u003c/li\u003e\u003cli\u003eUse JavaScript to duplicate the first table row and place it in a new table fixed to the top of the page and reveal or hide the duplicated row depending on the viewer\u0026#x27;s scroll position. This approach feels messy and and its worth mentioning that any event listeners set on the original elements will not work on the duplicated row (unless using \u003ca href=\"https://davidwalsh.name/event-delegate\"\u003eevent delegation\u003c/a\u003e).\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eThe approach I am after is somewhere in the middle. A scroll-then-fixed solution using the original column headings to maintain event listeners.\u003c/p\u003e\u003ch4\u003eHTML\u003c/h4\u003e\u003cpre\u003e\u003ccode class=\"language-HTML\"\u003e\u0026lt;table\u0026gt;\n  \u0026lt;thead\u0026gt;\n    \u0026lt;tr\u0026gt;\n      \u0026lt;th\u0026gt;Col 1\u0026lt;/th\u0026gt;\n      \u0026lt;th\u0026gt;Col 2\u0026lt;/th\u0026gt;\n      \u0026lt;th\u0026gt;Col 3\u0026lt;/th\u0026gt;\n    \u0026lt;/tr\u0026gt;\n  \u0026lt;/thead\u0026gt;\n  \u0026lt;tbody\u0026gt;\n    \u0026lt;tr\u0026gt;\n      \u0026lt;td\u0026gt;One\u0026lt;/td\u0026gt;\n      \u0026lt;td\u0026gt;Two\u0026lt;/td\u0026gt;\n      \u0026lt;td\u0026gt;Three\u0026lt;/td\u0026gt;\n    \u0026lt;/tr\u0026gt;\n    ...\n  \u0026lt;/tbody\u0026gt;\n\u0026lt;/table\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe HTML is straightforward. Moving on...\u003c/p\u003e\u003ch4\u003eCSS\u003c/h4\u003e\u003cpre\u003e\u003ccode class=\"language-CSS\"\u003e.fixed {\n  position: fixed;\n  top: 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNot much to the CSS either. The \u003ccode\u003e.fixed\u003c/code\u003e class will be added to the thead element when a viewer scrolls to the table.\u003c/p\u003e\u003ch4\u003eJS\u003c/h4\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003e/**\n* First Calculate\n*   - Where the thead lies on the page\n*   - Where the table lies on the page\n*   - Table height\n**/\nvar table = document.querySelector(\u0026#x27;table\u0026#x27;),\n    thead = table.querySelector(\u0026#x27;thead\u0026#x27;),\n    theadOffset = thead.getBoundingClientRect().top,\n    tableHeight = +getComputedStyle(table)\n                   .getPropertyValue(\u0026#x27;height\u0026#x27;)\n                   .split(\u0026#x27;px\u0026#x27;)[0],\n    tableOffset = table.getBoundingClientRect().top,\n    tableCells = document.querySelectorAll(\u0026#x27;th, td\u0026#x27;);\n\n// Set the widths on all table cells so they dont resize when fixing\n// the first row\nfor (var i = 0, l = tableCells.length; i \u0026lt; l; i++) {\n  var cell = tableCells[i];\n  cell.width = getComputedStyle(el).getPropertyValue(\u0026#x27;width\u0026#x27;);\n}\n\nfunction fixTableHeader(e) {\n  // If viewer has scrolled past the first row\n  // then fix/stick it to the top of the page\n  if( window.pageYOffset \u0026gt; theadOffset ) {\n    thead.classList.add(\u0026#x27;fixed\u0026#x27;);\n  }\n\n  // If viewer has scrolled back above or past the table\n  // then unfreeze the first row.\n  if ( window.pageYOffset \u0026lt; theadOffset ||\n       window.pageYOffset \u0026gt; (tableOffset + tableHeight)) {\n      thead.classList.remove(\u0026#x27;fixed\u0026#x27;);\n  }\n\n}\n\n// Listen...\nwindow.addEventListener(\u0026#x27;scroll\u0026#x27;, fixTableHeader, false);\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eDEMO\u003c/h2\u003e\u003cp data-height=\"265\" data-theme-id=\"dark\" data-slug-hash=\"XKKMBo\" data-default-tab=\"result\" data-user=\"dworthen\" data-embed-version=\"2\" data-pen-title=\"Fixed Table Head\" data-preview=\"true\" class=\"codepen\"\u003eSee the Pen \u003ca href=\"https://codepen.io/dworthen/pen/XKKMBo/\"\u003eFixed Table Head\u003c/a\u003e by Derek Worthen (\u003ca href=\"https://codepen.io/dworthen\"\u003e@dworthen\u003c/a\u003e) on \u003ca href=\"https://codepen.io\"\u003eCodePen\u003c/a\u003e.\u003c/p\u003e\u003cscript async=\"\" src=\"https://production-assets.codepen.io/assets/embed/ei.js\"\u003e\u003c/script\u003e","scope":{}},"frontMatter":{"title":"Fixed HTML Table Header","date":"2016-06-15","template":"post","published":true,"slug":"sticky-table-head","category":"JavaScript","tags":["HTML","CSS","JavaScript"],"description":"Large HTML tables got you down? Easily fix table headers for readability. Best part. No framework or library necessary."}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"sticky-table-head"},"buildId":"c-PzTcYntvLLEE3J2MI77","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-4a659121523c89b6d810.js"></script><script src="/_next/static/chunks/main-6fd6122508a3ecee2da5.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/3ef630e34cd10ba68f9d468ac363ff81c534e1e9.386717e5d53cbb6c2786.js" async=""></script><script src="/_next/static/chunks/71247caf95475e3ea7f9a0f8a30beb258b23d005.6e2460ecc34e06341fc5.js" async=""></script><script src="/_next/static/chunks/pages/_app-38d928fb62d663b3f9dd.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-8c30f50305d85407af2b.js" async=""></script><script src="/_next/static/c-PzTcYntvLLEE3J2MI77/_buildManifest.js" async=""></script><script src="/_next/static/c-PzTcYntvLLEE3J2MI77/_ssgManifest.js" async=""></script></body></html>